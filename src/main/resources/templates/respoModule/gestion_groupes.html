<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gestion des groupes</title>

    <!-- Feuille de style & bootstrap-->
    <link rel="stylesheet" href="../../static/css/bootstrap.css" data-th-href="@{/css/bootstrap.css}">
    <link rel="stylesheet" href="../../static/css/gestion_groupes.css" data-th-href="@{/css/gestion_groupes.css}">
    <link rel="stylesheet" href="../../static/css/header.css" data-th-href="@{/css/header.css}">
    <link rel="stylesheet" href="../../static/css/footer.css" data-th-href="@{/css/footer.css}">
    <link rel="stylesheet" href="../../static/css/style.css" data-th-href="@{/css/style.css}">
    <script src="../../static/js/jquery-3.1.1.min.js" data-th-src="@{/js/jquery-3.1.1.min.js}" charset="utf-8"></script>
    <script src="../../static/js/bootstrap.js" data-th-src="@{/js/bootstrap.js}" charset="utf-8"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>

</head>
<body>
<div class="header" data-th-include="fragments/header-respo :: header-respo"></div>
<div class="container">

    <!--Le titre -->
    <div class="row">
        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2 ">
            <h1 class="text-center" id="titre">Gestion des groupes</h1>
        </div>
    </div>

    <!--les boutons de selection de la promotion -->
    <div class="row">
        <div class="col-md-8 col-md-offset-2 text-center">
            <ul class="pagination">
                <li data-th-each="promotion:${listPromo}"><a data-th-text="${promotion.key}" data-th-classappend="${ppromotion == promo ? selection_pagination : ''} "data-th-href="'gestionGroupes?promo=' + ${promotion.value} + '&page=0'" href="#">I1</a></li>
            </ul>
        </div>
    </div>



    <!-- view groupes -->
    <div class="row ">
        <div class="view_groupes_conteneur text-center row col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">

            <!-- view 1st groupe -->
            <div data-th-each="groupe:${listeGroupe}" class="view_groupes_contenu col-lg-4 col-md-4 col-sm-4 col-xs-12">
                <p data-th-text="${groupe.key.nom}">Groupe 1</p>
                <ul class="list-unstyled">
                    <li data-th-each="user:${groupe.value}" data-th-text="${user.prenom} + ' ' + ${user.nom}">Nom Prenom</li>
                </ul>
                <p data-th-each="tuteur:${groupe.key.listTuteur}" data-th-text="'Tuteur :' +  ${tuteur.prenom} + ' ' + ${tuteur.nom}">tuteur :Hervé Feller</p>
                <p data-th-text="'Client :' + ' ' + ${groupe.key.client.prenom} + ' ' + ${groupe.key.client.nom}">Client : Zakia</p>

                <!-- les deux buttons -->
                <div class="boite_gestion_groupes">
                    <button type="button" class="btn btn-default modif" aria-label="Modification" data-toggle="modal" data-th-data-target="'#modification_groupe_modal' + ${groupe.key.id}" data-target="#modification_groupe_modal">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </button>
                    <button type="button" class="btn btn-default suppr" aria-label="Suppression" data-toggle="modal" data-th-data-target="'#confirmation_supp_groupe_modal' + ${groupe.key.id}" data-target="#confirmation_supp_groupe_modal">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </button>
                </div>
            </div>

            <!-- view 2nd groupe -->
            <!--<div class="view_groupes_contenu col-lg-4 col-md-4 col-sm-4 col-xs-12">
                <p>Groupe 1</p>
                <ul class="list-unstyled">
                    <li>Nom Prenom</li>
                    <li>Nom Prenom</li>
                    <li>Nom Prenom</li>
                    <li>Nom Prenom</li>
                    <li>Nom Prenom</li>
                </ul>
                <p>tuteur :Hervé Feller</p>
                <p>Client : Zakia</p>

                &lt;!&ndash; les deux buttons &ndash;&gt;
                <div class="boite_gestion_groupes">
                    <button type="button" class="btn btn-default modif" aria-label="Modification" data-toggle="modal" data-target="#modification_groupe_modal">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </button>
                    <button type="button" class="btn btn-default suppr" aria-label="Suppression" data-toggle="modal" data-target="#confirmation_supp_groupe_modal">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </button>
                </div>
            </div>

            &lt;!&ndash; view 3rd groupe &ndash;&gt;
            <div class="view_groupes_contenu col-lg-4 col-md-4 col-sm-4 col-xs-12">
                <p>Groupe 1</p>
                <ul class="list-unstyled">
                    <li>Nom Prenom</li>
                    <li>Nom Prenom</li>
                    <li>Nom Prenom</li>
                    <li>Nom Prenom</li>
                    <li>Nom Prenom</li>
                </ul>
                <p>tuteur :Hervé Feller</p>
                <p>Client : Zakia</p>

                &lt;!&ndash; les deux buttons &ndash;&gt;
                <div class="boite_gestion_groupes">
                    <button type="button" class="btn btn-default modif" aria-label="Modification" data-toggle="modal" data-target="#modification_groupe_modal">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </button>
                    <button type="button" class="btn btn-default suppr" aria-label="Suppression" data-toggle="modal" data-target="#confirmation_supp_groupe_modal">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </button>
                </div>
            </div>-->
        </div>
    </div>

    <!-- pagination -->
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
            <ul class="pagination">
                <li><a href="#" class="glyphicon glyphicon-chevron-left"></a></li>
                <li data-th-each="p:${totalPage}"  data-th-classappend="${page == p ? active : ''} "><a data-th-text="${p} + 1" data-th-href="'gestionGroupes?promo=' + ${promo} + '&page=' + ${p}" href="#">1</a></li>
                <li><a href="#" class="glyphicon glyphicon-chevron-right"></a></li>
            </ul>
        </div>
    </div>

    <!--Button ajouter un groupe -->
    <div class="text-center" id="button_ajouter_groupe">
        <button type="button" class="btn" data-toggle="modal" data-target="#create_groupe_modal">Ajouter un groupe</button>
    </div>

    <!-- Modal de création de nouveau groupe -->
    <div class="modal fade" id="create_groupe_modal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Ajouter un groupe</h4>
                </div>

                <!-- formulaire creation groupe -->
                <form class="form-horizontal" data-th-action="'/groupeInsert?promo=' + ${promo}" action="groupeInsert" method="post">
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="control-label col-sm-3" for="identifiant_du_groupe_creation_groupe">Nom du groupe :</label>
                            <div class="col-sm-7">
                                <input type="text" class="form-control" name="nom" id="identifiant_du_groupe_creation_groupe">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3" for="eleve_creation_groupe">Elèves :</label>
                            <select class="mySelect js-example-basic-multiple js-example-responsive " id="eleve_creation_groupe"  style="width: 50%" name="studentList" multiple="multiple">
                                <option data-th-id="${eleve.identifiant}" data-th-each="eleve:${listeEleve}" data-th-text="${eleve.prenom} + ' ' + ${eleve.nom}" data-th-attr="value = ${eleve.identifiant}" value="eleve">eleve</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3" for="listTuteur">Tuteurs :</label>
                            <div class="col-sm-7">
                                <select class="mySelect js-example-basic-multiple" multiple="multiple" style="width: 50%" name="listTuteur" id="listTuteur">
                                    <option data-th-each="tuteur:${listProf}" data-th-attr="value = ${tuteur.identifiant}" data-th-text="${tuteur.prenom} + ' ' + ${tuteur.nom}" data-th-id="${tuteur.identifiant}"></option>
                                </select>
                            </div>
                        </div>


                        <div class="form-group">
                            <label class="control-label col-sm-3" for="client">Client :</label>
                            <div class="col-sm-7">
                                <select class="mySelect js-example-basic-single js-example-responsive" style="width: 50%" name="client" id="client">
                                    <option data-th-each="tuteur:${listProf}" data-th-value="${tuteur.identifiant}" data-th-text="${tuteur.prenom} + ' ' + ${tuteur.nom}" value="client" data-th-id="${tuteur.identifiant}"></option>
                                </select>
                            </div>
                        </div>


                    </div>
                    <div class="modal-footer">
                        <input type="submit" class="btn btn-default" value="Ajouter">
                    </div>
                </form>
            </div>

        </div>
    </div>
    <!-- FIN DE LA MODALE D'AJOUT DE GROUPE -->

    <!-- Modal modification groupe -->
    <div class="modal fade" id="modification_groupe_modal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Modification</h4>
                </div>

                <div class="modal-body">

                    <!-- formulaire modification groupe -->
                    <form class="form-horizontal" action="#" method="post">
                        <div class="form-group">
                            <label class="control-label col-sm-3" for="identifiant_du_groupe_modification_groupe">Identifiant du groupe :</label>
                            <div class="col-sm-7">
                                <input type="text" class="form-control" name="identifiant_groupe" id="identifiant_du_groupe_modification_groupe">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3" for="eleve_modification_groupe">Elève :</label>
                            <div class="col-sm-7">
                                <input type="text" class="form-control" name="nom_eleve" placeholder="Nom Prénom" id="eleve_modification_groupe">
                            </div>
                            <div class="col-sm-2">
                                <button type="button" class="button_simple btn btn-default" aria-label="Ajout">
                                    <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
                                </button>
                            </div>
                        </div>


                        <div class="visualisation_membres">

                            <!-- 1er membre -->
                            <div class="membre row">
                                <p class="nom_membre col-sm-10 text-center">Nom Prenom </p>
                                <div class="col-sm-2 text-center">
                                    <button type="button" class="button_simple btn btn-default" aria-label="Ajout">
                                        <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>

                            <!-- 2nd membre -->
                            <div class="membre row">
                                <p class="nom_membre col-sm-10 text-center">Nom Prenom </p>
                                <div class="col-sm-2 text-center">
                                    <button type="button" class="button_simple btn btn-default" aria-label="Ajout">
                                        <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>

                            <!-- 3rd membre -->
                            <div class="membre row">
                                <p class="nom_membre col-sm-10 text-center">Nom Prenom </p>
                                <div class="col-sm-2 text-center">
                                    <button type="button" class="button_simple btn btn-default" aria-label="Ajout">
                                        <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>

                            <!-- 4th membre -->
                            <div class="membre row">
                                <p class="nom_membre col-sm-10 text-center">Nom Prenom </p>
                                <div class="col-sm-2 text-center">
                                    <button type="button" class="button_simple btn btn-default" aria-label="Ajout">
                                        <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>

                            <!-- 5th membre -->
                            <div class="membre row">
                                <p class="nom_membre col-sm-10 text-center">Nom Prenom </p>
                                <div class="col-sm-2 text-center">
                                    <button type="button" class="button_simple btn btn-default" aria-label="Ajout">
                                        <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>

                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3" for="nom_tuteur">Tuteur :</label>
                            <div class="col-sm-7">
                                <input type="text" class="form-control" name="nom_tuteur">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3" for="nom_client">Client :</label>
                            <div class="col-sm-7">
                                <input type="text" class="form-control" name="nom_client">
                            </div>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" >Ajouter</button>
                </div>
            </div>

        </div>
    </div>

    <!-- Modal de confirmation de supp de groupe -->
    <div data-th-each="groupe:${listeGroupe}" class="modal fade"  data-th-id="'confirmation_supp_groupe_modal' + ${groupe.key.id}" id="confirmation_supp_groupe_modal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title text-center">Supprimer ce groupe ?</h4>
                </div>
                <form data-th-action="'/deleteGroupe?promo=' + ${promo} + '&groupeID=' + ${groupe.key.id}">
                    <div class="modal-footer">
                        <div class="row text-center">
                            <button type="button" class="btn btn-default" data-dismiss="modal" >Annuler</button>
                            <input class="btn btn-default" type="submit" value="Confirmer">
                        </div>
                    </div>
                </form>
            </div>

        </div>
    </div>

</div>
  <div class="footer" data-th-include="fragments/footer :: footer">ISEP</div>
</body>

<script type="text/javascript">
    /*$('#eleve_creation_groupe').select2();

    $('#listTuteur').select2();

    $('#client').select2();*/

    $('.mySelect').select2();
</script>

</html>